<mat-card>
    <mat-card-header>
        <mat-card-title>
            Basic Coffee Information
        </mat-card-title>
    </mat-card-header>
    <mat-card-content>
        <mat-form-field>
            <mat-label>Coffee Name</mat-label>
            <input matInput name="name" [(ngModel)]="coffee.name">
        </mat-form-field>

        <mat-form-field>
            <mat-label>Coffee Type</mat-label>
            <mat-select name="type" [(ngModel)]="coffee.type">
                <mat-select-trigger>
                    {{ coffee.type || 'Select a coffee type' }}
                </mat-select-trigger>
                @for (type of coffeeTypes; track $index) {
                <mat-option [value]="type">{{ type }}</mat-option>
                }
            </mat-select>
        </mat-form-field>

        <mat-form-field>
            <mat-label>Place Name</mat-label>
            <input matInput name="place" [(ngModel)]="coffee.place">
        </mat-form-field>

        <mat-form-field>
            <mat-label>Address</mat-label>
            <input matInput name="address" [(ngModel)]="coffee.location!.address">
        </mat-form-field>

        <mat-form-field>
            <mat-label>City</mat-label>
            <input matInput name="city" [(ngModel)]="coffee.location!.city">
        </mat-form-field>

        <section>
            <mat-label>GeoLocation:</mat-label>
            <button mat-button (click)="accquiredLocation()">
                <mat-icon matPrefix>radar</mat-icon>
                <span>Get Location</span>
            </button>
        </section>

        <h2>Ratings</h2>
        <section>
            <mat-label>Overall Ratings</mat-label>
            <mat-slider max="10" step="1" discrete>
                <input matSliderThumb name="rating" [(ngModel)]="coffee.rating">
            </mat-slider>
        </section>

        <section>
            <mat-label>Enable Tasting Rating</mat-label>
            <mat-slide-toggle name="tastingEnabled" [(ngModel)]="tastingEnabled"></mat-slide-toggle>
        </section>

        @if (tastingEnabled) {
        <section class="tasting">
            <section>
                <mat-label>Aroma</mat-label>
                <mat-slider max="10" discrete step="1">
                    <input name="aromaRating" matSliderThumb [(ngModel)]="coffee.tastingRating!.aroma">
                </mat-slider>
            </section>

            <section>
                <mat-label>Flavor</mat-label>
                <mat-slider max="10" discrete step="1">
                    <input name="flavorRating" matSliderThumb [(ngModel)]="coffee.tastingRating!.flavor">
                </mat-slider>
            </section>

            <section>
                <mat-label>Intensity</mat-label>
                <mat-slider max="10" discrete step="1">
                    <input name="intensityRating" matSliderThumb [(ngModel)]="coffee.tastingRating!.intensity">
                </mat-slider>
            </section>

            <section>
                <mat-label>Sweetness</mat-label>
                <mat-slider max="10" discrete step="1">
                    <input name="sweetnessRating" matSliderThumb [(ngModel)]="coffee.tastingRating!.sweetness">
                </mat-slider>
            </section>

            <section>
                <mat-label>Aftertaste</mat-label>
                <mat-slider max="10" discrete step="1">
                    <input name="aftertasteRating" matSliderThumb [(ngModel)]="coffee.tastingRating!.aftertaste">
                </mat-slider>
            </section>
        </section>
        }

        <h2>Additional Info</h2>
        <mat-form-field>
            <mat-label>Notes</mat-label>
            <textarea matInput name="notes" [(ngModel)]="coffee.notes"></textarea>
        </mat-form-field>
    </mat-card-content>
    <mat-card-actions>
        <button mat-flat-button color="warn" (click)="discard()">Discard</button>
        <button mat-flat-button color="accent" (click)="save()">Save</button>
    </mat-card-actions>
</mat-card>